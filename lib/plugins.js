const _0x13aa4a=_0x5ce5;(function(_0x36d33d,_0x16ff49){const _0x1081bf=_0x5ce5,_0x537801=_0x36d33d();while(!![]){try{const _0x322f70=-parseInt(_0x1081bf(0x142))/0x1*(-parseInt(_0x1081bf(0x13b))/0x2)+-parseInt(_0x1081bf(0x13c))/0x3*(-parseInt(_0x1081bf(0x13d))/0x4)+parseInt(_0x1081bf(0x137))/0x5*(parseInt(_0x1081bf(0x13e))/0x6)+-parseInt(_0x1081bf(0x132))/0x7*(-parseInt(_0x1081bf(0x131))/0x8)+parseInt(_0x1081bf(0x136))/0x9*(-parseInt(_0x1081bf(0x12a))/0xa)+parseInt(_0x1081bf(0x12e))/0xb*(-parseInt(_0x1081bf(0x140))/0xc)+-parseInt(_0x1081bf(0x123))/0xd;if(_0x322f70===_0x16ff49)break;else _0x537801['push'](_0x537801['shift']());}catch(_0x3df6f9){_0x537801['push'](_0x537801['shift']());}}}(_0x3676,0x6f0ba));import{readdirSync,existsSync,readFileSync,watch}from'fs';import{join,resolve}from'path';import{format}from'util';import _0x53fb9e from'syntax-error';import _0x40444b from'./import.js';import _0x246d14 from'./helper.js';const __dirname=_0x246d14[_0x13aa4a(0x12d)](import.meta),pluginFolder=_0x246d14['__dirname'](join(__dirname,_0x13aa4a(0x13f))),pluginFilter=_0x4415ab=>/\.(mc)?js$/[_0x13aa4a(0x134)](_0x4415ab);function _0x3676(){const _0x129585=['18162wKNCNd','1236425ogDRrk','push','fromEntries','filter','200998RcLguz','14886xfRUlS','284ucjaQl','6WxueDb','../plugins/index','469824cNljcz','default','7leprSa','info','splice','sort','syntax\x20error\x20while\x20loading\x20\x27','warn','3967704LrDBdS','error','\x20updated\x20plugin\x20-\x20\x27','close','__filename','indexOf','module','3150vhUScY','bind','deleted\x20plugin\x20-\x20\x27','__dirname','33OexCLq','localeCompare','logger','280128IiBsnB','42UqnIUe','error\x20require\x20plugin\x20\x27','test','map'];_0x3676=function(){return _0x129585;};return _0x3676();}let watcher,plugins,pluginFolders=[];watcher=plugins={};async function filesInit(_0x3ea221=_0x3ea221,_0x5e9a50=_0x5e9a50,_0x444917){const _0x3e4e62=_0x13aa4a,_0x100167=resolve(_0x3ea221);if(_0x100167 in watcher)return;pluginFolders[_0x3e4e62(0x138)](_0x100167),await Promise['all'](readdirSync(_0x100167)[_0x3e4e62(0x13a)](_0x5e9a50)[_0x3e4e62(0x135)](async _0x8681fb=>{const _0xa3514b=_0x3e4e62;try{let _0x3e369b=global[_0xa3514b(0x127)](join(_0x100167,_0x8681fb));const _0x520c86=await import(_0x3e369b);if(_0x520c86)plugins[_0x8681fb]=_0xa3514b(0x141)in _0x520c86?_0x520c86[_0xa3514b(0x141)]:_0x520c86;}catch(_0x2d2d22){_0x444917?.[_0xa3514b(0x130)]['error'](_0x2d2d22),delete plugins[_0x8681fb];}}));const _0x17c230=watch(_0x100167,reload[_0x3e4e62(0x12b)](null,_0x444917,_0x100167,_0x5e9a50));return _0x17c230['on']('close',()=>deletePluginFolder(_0x100167,!![])),watcher[_0x100167]=_0x17c230,plugins;}function _0x5ce5(_0x366116,_0x2c0bd1){const _0x36769c=_0x3676();return _0x5ce5=function(_0x5ce505,_0x1e7d7a){_0x5ce505=_0x5ce505-0x122;let _0x26ae55=_0x36769c[_0x5ce505];return _0x26ae55;},_0x5ce5(_0x366116,_0x2c0bd1);}function deletePluginFolder(_0x57dc24,_0x39a152=![]){const _0x106e10=_0x13aa4a,_0xd34bbd=resolve(_0x57dc24);if(!(_0xd34bbd in watcher))return;if(!_0x39a152)watcher[_0xd34bbd][_0x106e10(0x126)]();delete watcher[_0xd34bbd],pluginFolders[_0x106e10(0x144)](pluginFolders[_0x106e10(0x128)](_0xd34bbd),0x1);}async function reload(_0x3831f2,_0x40886c=_0x40886c,_0x36b919=_0x36b919,_0x50aa84,_0x3b1683){const _0x4071bc=_0x13aa4a;if(_0x36b919(_0x3b1683)){let _0x3c1be5=global['__filename'](join(_0x40886c,_0x3b1683),!![]);if(_0x3b1683 in plugins){if(existsSync(_0x3c1be5))_0x3831f2[_0x4071bc(0x130)][_0x4071bc(0x143)](_0x4071bc(0x125)+_0x3b1683+'\x27');else return _0x3831f2?.[_0x4071bc(0x130)][_0x4071bc(0x122)](_0x4071bc(0x12c)+_0x3b1683+'\x27'),delete plugins[_0x3b1683];}else _0x3831f2?.['logger'][_0x4071bc(0x143)]('new\x20plugin\x20-\x20\x27'+_0x3b1683+'\x27');let _0x1fe9f4=_0x53fb9e(readFileSync(_0x3c1be5),_0x3b1683,{'sourceType':_0x4071bc(0x129),'allowAwaitOutsideFunction':!![]});if(_0x1fe9f4)_0x3831f2['logger'][_0x4071bc(0x124)](_0x4071bc(0x146)+_0x3b1683+'\x27\x0a'+format(_0x1fe9f4));else try{const _0xd1668=await _0x40444b(global['__filename'](_0x3c1be5))['catch'](console[_0x4071bc(0x124)]);if(_0xd1668)plugins[_0x3b1683]=_0xd1668;}catch(_0x36847d){_0x3831f2?.[_0x4071bc(0x130)][_0x4071bc(0x124)](_0x4071bc(0x133)+_0x3b1683+'\x0a'+format(_0x36847d)+'\x27');}finally{plugins=Object[_0x4071bc(0x139)](Object['entries'](plugins)[_0x4071bc(0x145)](([_0x55fc27],[_0xe38281])=>_0x55fc27[_0x4071bc(0x12f)](_0xe38281)));}}}export{pluginFolder,pluginFilter,plugins,watcher,pluginFolders,filesInit,deletePluginFolder,reload};